(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-338566cb"],{"07d4":function(e,t,n){"use strict";n("94c6")},2240:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c={class:"border-wrap"},a={class:"resource-wrap"},o={class:"content"};function i(e,t,n,i,u,l){var s=Object(r["resolveComponent"])("TableList"),p=Object(r["resolveComponent"])("a-tab-pane"),d=Object(r["resolveComponent"])("List"),b=Object(r["resolveComponent"])("a-button"),m=Object(r["resolveComponent"])("a-tabs"),f=Object(r["resolveComponent"])("GroupModal");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,[Object(r["createElementVNode"])("div",a,[Object(r["createElementVNode"])("div",o,[Object(r["createVNode"])(m,{activeKey:e.activeTab,"onUpdate:activeKey":t[1]||(t[1]=function(t){return e.activeTab=t}),destroyInactiveTabPane:"",onChange:e.onChangeTab},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(p,{key:"tables",tab:e.t("tables"),class:Object(r["normalizeClass"])(["tables"===e.activeTab?"active":""])},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{curGroupName:"all",type:"tables"})]})),_:1},8,["tab","class"]),Object(r["createVNode"])(p,{key:"optimizers",tab:e.t("optimizers"),class:Object(r["normalizeClass"])(["optimizers"===e.activeTab?"active":""])},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{type:"optimizers"})]})),_:1},8,["tab","class"]),Object(r["createVNode"])(p,{key:"optimizergroup",tab:e.t("optimizergroup"),class:Object(r["normalizeClass"])(["optimizergroup"===e.activeTab?"active":""])},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{type:"primary",class:"g-mb-16",onClick:t[0]||(t[0]=function(t){return e.editGroup(null)})},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.t("addgroup")),1)]})),_:1}),(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:e.groupKeyCount,type:"optimizergroup",onEditGroup:e.editGroup},null,8,["onEditGroup"]))]})),_:1},8,["tab","class"])]})),_:1},8,["activeKey","onChange"])])]),e.showGroupModal?(Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:0,edit:e.groupEdit,editRecord:e.groupEditRecord,onCancel:t[2]||(t[2]=function(t){return e.showGroupModal=!1}),onRefresh:t[3]||(t[3]=function(t){e.groupKeyCount++,e.showGroupModal=!1})},null,8,["edit","editRecord"])):Object(r["createCommentVNode"])("",!0)])}var u=n("5530"),l=(n("ac1f"),n("5319"),n("47e2")),s=n("6c02"),p=n("8552"),d=n("b356"),b=(n("3b18"),n("f64c")),m=n("1da1"),f=(n("cd17"),n("ed3b")),O=(n("96cf"),n("b0c0"),n("99af"),n("d3b7"),n("159b"),n("e723")),j=n("d257"),v=(n("a9e3"),Object(r["defineComponent"])({props:{groupRecord:null},emits:["cancel","refresh"],setup:function(e,t){var n,c=t.emit,a=e,o=Object(r["ref"])(!1),i=Object(r["reactive"])(Object(p["a"])()),u=Object(r["ref"])(),l=Object(r["reactive"])({resourceGroup:(null===(n=a.groupRecord)||void 0===n?void 0:n.name)||"",parallelism:1});function s(){u.value.validateFields().then(Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.value=!0,e.next=3,Object(O["i"])({optimizerGroup:l.resourceGroup||"",parallelism:Number(l.parallelism)});case 3:u.value.resetFields(),c("cancel"),c("refresh"),o.value=!1;case 7:case"end":return e.stop()}}),e)})))).catch((function(){o.value=!1}))}function d(){u.value.resetFields(),c("cancel")}return Object(r["onMounted"])((function(){})),function(e,t){var n=Object(r["resolveComponent"])("a-form-item"),c=Object(r["resolveComponent"])("a-input"),a=Object(r["resolveComponent"])("a-form"),p=Object(r["resolveComponent"])("a-modal");return Object(r["openBlock"])(),Object(r["createBlock"])(p,{visible:!0,title:e.$t("scaleOut"),confirmLoading:o.value,closable:!1,onOk:s,onCancel:d},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(a,{ref_key:"formRef",ref:u,model:Object(r["unref"])(l),class:"label-120"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{name:"resourceGroup",label:e.$t("resourceGroup")},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(Object(r["unref"])(l).resourceGroup),1)]})),_:1},8,["label"]),Object(r["createVNode"])(n,{name:"parallelism",label:e.$t("parallelism"),rules:[{required:!0,message:"".concat(Object(r["unref"])(i).parallelismPh)}]},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{value:Object(r["unref"])(l).parallelism,"onUpdate:value":t[0]||(t[0]=function(e){return Object(r["unref"])(l).parallelism=e}),type:"number",placeholder:Object(r["unref"])(i).parallelismPh},null,8,["value","placeholder"])]})),_:1},8,["label","rules"])]})),_:1},8,["model"])]})),_:1},8,["title","confirmLoading"])}}}));const h=v;var g=h,k={class:"list-wrap"},y=["title"],x=["onClick"],C=["onClick"],w=["onClick"],N=["onClick"],z=Object(r["defineComponent"])({props:{curGroupName:null,type:null},emits:["editGroup","refresh"],setup:function(e,t){var n=t.emit,c=e,a=Object(l["b"])(),o=a.t,i=(Object(s["e"])(),Object(r["shallowReactive"])({pending:{title:"pending",color:"#ffcc00"},idle:{title:"idle",color:"#c9cdd4"},minor:{title:"minor",color:"#0ad787"},major:{title:"major",color:"#0ad787"},full:{title:"full",color:"#0ad787"},committing:{title:"committing",color:"#0ad787"}})),p=Object(r["ref"])(!1),v=Object(r["ref"])(!1),h=Object(r["shallowReactive"])([{dataIndex:"name",title:o("name"),ellipsis:!0},{dataIndex:"container",title:o("container"),width:"23%",ellipsis:!0},{dataIndex:"resourceOccupation",title:o("resourceOccupation"),width:"23%",ellipsis:!0},{dataIndex:"operationGroup",title:o("operation"),key:"operationGroup",ellipsis:!0,width:230,scopedSlots:{customRender:"operationGroup"}}]),z=Object(r["shallowReactive"])([{dataIndex:"index",title:o("order"),width:80,ellipsis:!0},{dataIndex:"groupName",title:o("optimizerGroup"),ellipsis:!0},{dataIndex:"container",title:o("container"),ellipsis:!0},{dataIndex:"jobStatus",title:o("status"),ellipsis:!0},{dataIndex:"resourceAllocation",title:o("resourceAllocation"),width:"20%",ellipsis:!0},{dataIndex:"operation",title:o("operation"),key:"operation",ellipsis:!0,width:160,scopedSlots:{customRender:"operationGroup"}}]),G=Object(r["reactive"])(Object(d["a"])()),S=Object(r["reactive"])([]),I=Object(r["reactive"])([]),R=Object(r["computed"])((function(){return"optimizers"===c.type?z:h})),V=Object(r["computed"])((function(){return"optimizers"===c.type?S:I}));function E(e){e&&(G.current=1),"optimizers"===c.type?_():M()}function P(e){"external"!==e.containerType&&f["a"].confirm({title:o("releaseOptModalTitle"),content:"",okText:"",cancelText:"",onOk:function(){B(e)}})}function B(e){return T.apply(this,arguments)}function T(){return T=Object(m["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,v.value=!0,e.next=4,Object(O["h"])({optimizerGroup:t.groupName,jobId:t.jobId});case 4:E(!0),n("refreshCurGroupInfo");case 6:return e.prev=6,v.value=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])}))),T.apply(this,arguments)}function _(){return D.apply(this,arguments)}function D(){return D=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,n,r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,S.length=0,p.value=!0,t={optimizerGroup:"all",page:G.current,pageSize:G.pageSize},e.next=6,Object(O["c"])(t);case 6:n=e.sent,r=n.list,c=n.total,G.total=c,(r||[]).forEach((function(e,t){e.resourceAllocation="".concat(e.coreNumber," ").concat(o("core")," ").concat(Object(j["h"])(e.memory)),e.index=(G.current-1)*G.pageSize+t+1,S.push(e)})),e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](0);case 14:return e.prev=14,p.value=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,12,14,17]])}))),D.apply(this,arguments)}function M(){return F.apply(this,arguments)}function F(){return F=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,I.length=0,p.value=!0,e.next=5,Object(O["e"])();case 5:t=e.sent,G.total=t.length,(t||[]).forEach((function(e){e.name=e.resourceGroup.name,e.container=e.resourceGroup.container,e.resourceOccupation="".concat(e.occupationCore," ").concat(o("core")," ").concat(Object(j["h"])(e.occupationMemory)),I.push(e)})),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:return e.prev=12,p.value=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,10,12,15]])}))),F.apply(this,arguments)}var q=function(e){n("editGroup",e)},L=function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["g"])({name:t.name});case 2:if(n=e.sent,!n){e.next=6;break}return f["a"].confirm({title:o("deleteGroupModalTitle"),onOk:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["f"])({name:t.name});case 2:b["a"].success("".concat(o("remove")," ").concat(o("success"))),E();case 4:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),e.abrupt("return");case 6:f["a"].warning({title:o("cannotDeleteGroupModalTitle"),content:o("cannotDeleteGroupModalContent")});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=Object(r["ref"])({}),$=Object(r["ref"])(!1),U=function(e){"external"!==e.container&&(A.value=Object(u["a"])({},e),$.value=!0)};function K(e){var t=e.current,n=void 0===t?G.current:t,r=e.pageSize,c=void 0===r?G.pageSize:r;G.current=n;var a=c!==G.pageSize;G.pageSize=c,E(a)}return Object(r["onMounted"])((function(){E()})),function(e,t){var n=Object(r["resolveComponent"])("a-table"),c=Object(r["resolveComponent"])("u-loading");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("div",k,[Object(r["createVNode"])(n,{class:"ant-table-common",columns:Object(r["unref"])(R),"data-source":Object(r["unref"])(V),pagination:Object(r["unref"])(G),loading:p.value,onChange:K},{bodyCell:Object(r["withCtx"])((function(e){var t=e.column,n=e.record;return["durationDisplay"===t.dataIndex?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:0,title:n.durationDesc},Object(r["toDisplayString"])(n.durationDisplay),9,y)):Object(r["createCommentVNode"])("",!0),"optimizeStatus"===t.dataIndex?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:1},[Object(r["createElementVNode"])("span",{style:Object(r["normalizeStyle"])({"background-color":(Object(r["unref"])(i)[n.optimizeStatus]||{}).color}),class:"status-icon"},null,4),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(n.optimizeStatus),1)],64)):Object(r["createCommentVNode"])("",!0),"operation"===t.dataIndex?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:2,class:Object(r["normalizeClass"])(["primary-link",{disabled:"external"===n.containerType}]),onClick:function(e){return P(n)}},Object(r["toDisplayString"])(Object(r["unref"])(o)("release")),11,x)):Object(r["createCommentVNode"])("",!0),"operationGroup"===t.dataIndex?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:3},[Object(r["createElementVNode"])("span",{class:Object(r["normalizeClass"])(["primary-link g-mr-12",{disabled:"external"===n.container}]),onClick:function(e){return U(n)}},Object(r["toDisplayString"])(Object(r["unref"])(o)("scaleOut")),11,C),Object(r["createElementVNode"])("span",{class:"primary-link g-mr-12",onClick:function(e){return q(n)}},Object(r["toDisplayString"])(Object(r["unref"])(o)("edit")),9,w),Object(r["createElementVNode"])("span",{class:"primary-link",onClick:function(e){return L(n)}},Object(r["toDisplayString"])(Object(r["unref"])(o)("remove")),9,N)],64)):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["columns","data-source","pagination","loading"])]),$.value?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,groupRecord:A.value,onCancel:t[0]||(t[0]=function(e){return $.value=!1}),onRefresh:E},null,8,["groupRecord"])):Object(r["createCommentVNode"])("",!0),v.value?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:1})):Object(r["createCommentVNode"])("",!0)],64)}}}),G=(n("07d4"),n("6b0d")),S=n.n(G);const I=S()(z,[["__scopeId","data-v-61a9fe8b"]]);var R=I,V=(n("b680"),{class:"list-wrap"}),E=["title","onClick"],P=["title"],B=["onClick"],T=Object(r["defineComponent"])({props:{curGroupName:null,type:null},emits:["refreshCurGroupInfo"],setup:function(e,t){var n=t.emit,c=e,a=Object(l["b"])(),o=a.t,i=Object(s["e"])(),u=Object(r["shallowReactive"])({pending:{title:"pending",color:"#ffcc00"},idle:{title:"idle",color:"#c9cdd4"},minor:{title:"minor",color:"#0ad787"},major:{title:"major",color:"#0ad787"},full:{title:"full",color:"#0ad787"},committing:{title:"committing",color:"#0ad787"}}),p=Object(r["ref"])(!1),b=Object(r["ref"])(!1),v=Object(r["shallowReactive"])([{dataIndex:"tableName",title:o("table"),ellipsis:!0,scopedSlots:{customRender:"tableName"}},{dataIndex:"groupName",title:o("optimizerGroup"),width:"16%",ellipsis:!0},{dataIndex:"optimizeStatus",title:o("optimizingStatus"),width:"16%",ellipsis:!0},{dataIndex:"durationDisplay",title:o("duration"),width:"10%",ellipsis:!0},{dataIndex:"fileCount",title:o("fileCount"),width:"10%",ellipsis:!0},{dataIndex:"fileSizeDesc",title:o("fileSize"),width:"10%",ellipsis:!0},{dataIndex:"quota",title:o("quota"),width:"10%",ellipsis:!0},{dataIndex:"quotaOccupationDesc",title:o("occupation"),width:120,ellipsis:!0}]),h=Object(r["shallowReactive"])([{dataIndex:"index",title:o("order"),width:80,ellipsis:!0},{dataIndex:"groupName",title:o("optimizerGroup"),ellipsis:!0},{dataIndex:"container",title:o("container"),ellipsis:!0},{dataIndex:"jobStatus",title:o("status"),ellipsis:!0},{dataIndex:"resourceAllocation",title:o("resourceAllocation"),width:"20%",ellipsis:!0},{dataIndex:"operation",title:o("operation"),key:"operation",ellipsis:!0,width:160,scopedSlots:{customRender:"operation"}}]),g=Object(r["reactive"])(Object(d["a"])()),k=Object(r["reactive"])([]),y=Object(r["reactive"])([]),x=Object(r["computed"])((function(){return"optimizers"===c.type?h:v})),C=Object(r["computed"])((function(){return"optimizers"===c.type?k:y}));function w(e){e&&(g.current=1),"optimizers"===c.type?N():G()}function N(){return z.apply(this,arguments)}function z(){return z=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,k.length=0,p.value=!0,t={optimizerGroup:c.curGroupName,page:g.current,pageSize:g.pageSize},e.next=6,Object(O["c"])(t);case 6:n=e.sent,r=n.list,a=n.total,g.total=a,(r||[]).forEach((function(e,t){e.resourceAllocation="".concat(e.coreNumber," ").concat(o("core")," ").concat(Object(j["h"])(e.memory)),e.index=(g.current-1)*g.pageSize+t+1,k.push(e)})),e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](0);case 14:return e.prev=14,p.value=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,12,14,17]])}))),z.apply(this,arguments)}function G(){return S.apply(this,arguments)}function S(){return S=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,y.length=0,p.value=!0,t={optimizerGroup:c.curGroupName||"",page:g.current,pageSize:g.pageSize},e.next=6,Object(O["d"])(t);case 6:n=e.sent,r=n.list,a=n.total,g.total=a,(r||[]).forEach((function(e){e.quotaOccupationDesc=e.quotaOccupation-5e-4>0?"".concat((100*e.quotaOccupation).toFixed(1),"%"):"0",e.durationDesc=Object(j["e"])(e.duration||0),e.durationDisplay=Object(j["d"])(e.duration||0),e.fileSizeDesc=Object(j["a"])(e.fileSize),y.push(e)})),e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](0);case 14:return e.prev=14,p.value=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,12,14,17]])}))),S.apply(this,arguments)}function I(e){"external"!==e.containerType&&f["a"].confirm({title:o("releaseOptModalTitle"),content:"",okText:"",cancelText:"",onOk:function(){R(e)}})}function R(e){return T.apply(this,arguments)}function T(){return T=Object(m["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,b.value=!0,e.next=4,Object(O["h"])({optimizerGroup:t.groupName,jobId:t.jobId});case 4:w(!0),n("refreshCurGroupInfo");case 6:return e.prev=6,b.value=!1,e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])}))),T.apply(this,arguments)}function _(e){var t=e.current,n=void 0===t?g.current:t,r=e.pageSize,c=void 0===r?g.pageSize:r;g.current=n;var a=c!==g.pageSize;g.pageSize=c,w(a)}function D(e){var t=e.tableIdentifier,n=t.catalog,r=t.database,c=t.tableName;i.push({path:"/tables",query:{catalog:n,db:r,table:c}})}return Object(r["watch"])((function(){return c.curGroupName}),(function(e){e&&w()})),Object(r["onMounted"])((function(){w()})),function(e,t){var n=Object(r["resolveComponent"])("a-table"),c=Object(r["resolveComponent"])("u-loading");return Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],null,[Object(r["createElementVNode"])("div",V,[Object(r["createVNode"])(n,{class:"ant-table-common",columns:Object(r["unref"])(x),"data-source":Object(r["unref"])(C),pagination:Object(r["unref"])(g),loading:p.value,onChange:_},{bodyCell:Object(r["withCtx"])((function(e){var t=e.column,n=e.record;return["tableName"===t.dataIndex?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:0,title:n.tableName,class:"primary-link",onClick:function(e){return D(n)}},Object(r["toDisplayString"])(n.tableName),9,E)):Object(r["createCommentVNode"])("",!0),"durationDisplay"===t.dataIndex?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:1,title:n.durationDesc},Object(r["toDisplayString"])(n.durationDisplay),9,P)):Object(r["createCommentVNode"])("",!0),"optimizeStatus"===t.dataIndex?(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:2},[Object(r["createElementVNode"])("span",{style:Object(r["normalizeStyle"])({"background-color":(Object(r["unref"])(u)[n.optimizeStatus]||{}).color}),class:"status-icon"},null,4),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(n.optimizeStatus),1)],64)):Object(r["createCommentVNode"])("",!0),"operation"===t.dataIndex?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:3,class:Object(r["normalizeClass"])(["primary-link",{disabled:"external"===n.containerType}]),onClick:function(e){return I(n)}},Object(r["toDisplayString"])(Object(r["unref"])(o)("release")),11,B)):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["columns","data-source","pagination","loading"])]),b.value?(Object(r["openBlock"])(),Object(r["createBlock"])(c,{key:0})):Object(r["createCommentVNode"])("",!0)],64)}}});n("86c9");const _=S()(T,[["__scopeId","data-v-23774148"]]);var D=_,M=(n("d81d"),n("4e01")),F=Object(r["defineComponent"])({props:{edit:{type:Boolean},editRecord:null},emits:["cancel","refresh"],setup:function(e,t){var n=t.emit,c=e,a=Object(l["b"])(),o=a.t,i=Object(r["reactive"])(Object(p["a"])()),u=Object(r["ref"])({containerList:[]});function s(){return d.apply(this,arguments)}function d(){return d=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["b"])();case 2:t=e.sent,n=(t||[]).map((function(e){return{label:e,value:e}})),u.value.containerList=n;case 5:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}var f=Object(r["reactive"])({name:"",container:void 0,properties:{}}),j=Object(r["ref"])(!1),v=function(){n("cancel")},h=Object(r["ref"])(),g=Object(r["ref"])(),k=function(){h.value.validateFields().then(Object(m["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.value.getProperties();case 3:if(t=e.sent,r={name:f.name,container:f.container,properties:t},!c.edit){e.next=10;break}return e.next=8,Object(O["j"])(r);case 8:e.next=12;break;case 10:return e.next=12,Object(O["a"])(r);case 12:b["a"].success("".concat(o("save")," ").concat(o("success"))),n("refresh"),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),b["a"].error("".concat(o("save")," ").concat(o("failed")));case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))))};return Object(r["onMounted"])((function(){var e,t,n;(s(),c.edit)&&(f.name=null===(e=c.editRecord)||void 0===e?void 0:e.name,f.container=null===(t=c.editRecord)||void 0===t?void 0:t.container,f.properties=null===(n=c.editRecord)||void 0===n?void 0:n.resourceGroup.properties)})),function(t,n){var c=Object(r["resolveComponent"])("a-input"),a=Object(r["resolveComponent"])("a-form-item"),o=Object(r["resolveComponent"])("a-select"),l=Object(r["resolveComponent"])("a-form"),s=Object(r["resolveComponent"])("a-modal");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{visible:!0,title:e.edit?t.$t("editgroup"):t.$t("addgroup"),confirmLoading:j.value,closable:!1,class:"group-modal",onOk:k,onCancel:v},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{ref_key:"formRef",ref:h,model:Object(r["unref"])(f),class:"label-120"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(a,{name:"name",label:t.$t("name"),rules:[{required:!0,message:"".concat(Object(r["unref"])(i).groupNamePh)}]},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{value:Object(r["unref"])(f).name,"onUpdate:value":n[0]||(n[0]=function(e){return Object(r["unref"])(f).name=e}),placeholder:Object(r["unref"])(i).groupNamePh,disabled:e.edit},null,8,["value","placeholder","disabled"])]})),_:1},8,["label","rules"]),Object(r["createVNode"])(a,{name:"container",label:t.$t("container"),rules:[{required:!0,message:"".concat(Object(r["unref"])(i).groupContainer)}]},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(o,{value:Object(r["unref"])(f).container,"onUpdate:value":n[1]||(n[1]=function(e){return Object(r["unref"])(f).container=e}),showSearch:!0,options:u.value.containerList,placeholder:Object(r["unref"])(i).groupContainer},null,8,["value","options","placeholder"])]})),_:1},8,["label","rules"]),Object(r["createVNode"])(a,{label:t.$t("properties")},null,8,["label"]),Object(r["createVNode"])(a,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(M["a"],{propertiesObj:Object(r["unref"])(f).properties,isEdit:!0,ref_key:"propertiesRef",ref:g},null,8,["propertiesObj"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["title","confirmLoading"])}}});n("5548");const q=F;var L=q,A=Object(r["defineComponent"])({name:"Resource",components:{List:R,GroupModal:L,TableList:D},setup:function(){var e=Object(l["b"])(),t=e.t,n=Object(s["e"])(),c=Object(s["d"])(),a=Object(r["shallowReactive"])([{label:t("optimizergroup"),value:"optimizergroup"},{label:t("optimizers"),value:"optimizers"}]),o=Object(r["reactive"])(Object(p["a"])()),i=Object(r["reactive"])(Object(d["a"])()),b=Object(r["reactive"])({activeTab:"optimizergroup",showGroupModal:!1,groupEdit:!1,groupEditRecord:{},groupKeyCount:1,showTab:!1});Object(r["watch"])((function(){return c.query}),(function(e){b.activeTab=e.tab||"tables"}),{immediate:!0});var m=function(e){e?(b.groupEdit=!0,b.groupEditRecord=Object(u["a"])({},e)):b.groupEdit=!1,b.showGroupModal=!0},f=function(e){var t=Object(u["a"])({},c.query);t.tab=e,n.replace({query:Object(u["a"])({},t)})};return Object(r["onMounted"])((function(){b.showTab=!0})),Object(u["a"])(Object(u["a"])({placeholder:o,pagination:i},Object(r["toRefs"])(b)),{},{tabConfig:a,onChangeTab:f,editGroup:m,t:t})}});n("d72c");const $=S()(A,[["render",i],["__scopeId","data-v-1b80e946"]]);t["default"]=$},3335:function(e,t,n){},"4e01":function(e,t,n){"use strict";n("d3b7"),n("159b"),n("b64b"),n("a434");var r=n("7a23"),c=n("a878"),a=n("d257"),o=n("8552"),i=n("47e2"),u={class:"config-properties"},l={key:0},s={class:"config-header g-flex"},p={class:"td g-flex-ac"},d={class:"td g-flex-ac bd-left"},b=Object(r["createTextVNode"])("+"),m=Object(r["defineComponent"])({props:{propertiesObj:null,isEdit:{type:Boolean}},setup:function(e,t){var n=t.expose,m=e,f=Object(i["b"])(),O=f.t,j=Object(r["shallowReactive"])([{dataIndex:"key",title:O("key"),width:284,ellipsis:!0},{dataIndex:"value",title:O("value"),ellipsis:!0}]),v=Object(r["ref"])(),h=Object(r["reactive"])({data:[]}),g=Object(r["reactive"])(Object(o["a"])()),k=Object(r["computed"])((function(){return m.isEdit}));function y(){h.data.length=0,Object.keys(m.propertiesObj).forEach((function(e){h.data.push({key:e,value:m.propertiesObj[e],uuid:Object(a["g"])()})}))}function x(e){var t=h.data.indexOf(e);-1!==t&&h.data.splice(t,1)}function C(){h.data.push({key:"",value:"",uuid:Object(a["g"])()})}return Object(r["watch"])((function(){return m.propertiesObj}),(function(){y()}),{immediate:!0,deep:!0}),n({getProperties:function(){return v.value.validateFields().then((function(){var e={};return h.data.forEach((function(t){e[t.key]=t.value})),Promise.resolve(e)})).catch((function(){return!1}))}}),Object(r["onMounted"])((function(){})),function(e,t){var n=Object(r["resolveComponent"])("a-input"),a=Object(r["resolveComponent"])("a-form-item"),o=Object(r["resolveComponent"])("a-form"),i=Object(r["resolveComponent"])("a-button"),m=Object(r["resolveComponent"])("a-table");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",u,[Object(r["unref"])(k)?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",l,[Object(r["createElementVNode"])("div",s,[Object(r["createElementVNode"])("div",p,Object(r["toDisplayString"])(e.$t("key")),1),Object(r["createElementVNode"])("div",d,Object(r["toDisplayString"])(e.$t("value")),1)]),Object(r["createVNode"])(o,{ref_key:"propertiesFormRef",ref:v,model:Object(r["unref"])(h),class:"g-mt-12"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(h).data,(function(t,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",{class:"config-row",key:t.uuid},[Object(r["createVNode"])(a,{name:["data",o,"key"],rules:[{required:!0,message:"".concat(e.$t(Object(r["unref"])(g).inputPh))}],class:"g-mr-8"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{value:t.key,"onUpdate:value":function(e){return t.key=e},style:{width:"100%"}},null,8,["value","onUpdate:value"])]})),_:2},1032,["name","rules"]),Object(r["createVNode"])(a,{name:["data",o,"value"],rules:[{required:!0,message:"".concat(e.$t(Object(r["unref"])(g).inputPh))}]},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(n,{value:t.value,"onUpdate:value":function(e){return t.value=e},style:{width:"100%"}},null,8,["value","onUpdate:value"])]})),_:2},1032,["name","rules"]),Object(r["createVNode"])(Object(r["unref"])(c["a"]),{class:"icon-close",onClick:function(e){return x(t)}},null,8,["onClick"])])})),128))]})),_:1},8,["model"]),Object(r["createVNode"])(i,{class:"config-btn",onClick:C},{default:Object(r["withCtx"])((function(){return[b]})),_:1})])):Object(r["createCommentVNode"])("",!0),Object(r["unref"])(k)?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createBlock"])(m,{key:1,rowKey:"uuid",columns:Object(r["unref"])(j),"data-source":Object(r["unref"])(h).data,pagination:!1},null,8,["columns","data-source"]))])}}});n("7371");const f=m;t["a"]=f},5548:function(e,t,n){"use strict";n("3335")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("e330"),c=n("1d80"),a=n("577e"),o=n("5899"),i=r("".replace),u="["+o+"]",l=RegExp("^"+u+u+"*"),s=RegExp(u+u+"*$"),p=function(e){return function(t){var n=a(c(t));return 1&e&&(n=i(n,l,"")),2&e&&(n=i(n,s,"")),n}};e.exports={start:p(1),end:p(2),trim:p(3)}},7371:function(e,t,n){"use strict";n("8983")},8552:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("7a23"),c=n("47e2");function a(){var e=Object(c["b"])(),t=e.t,n=Object(r["computed"])((function(){return t("catalog")})).value,a=Object(r["computed"])((function(){return t("databaseName")})).value,o=Object(r["computed"])((function(){return t("tableName")})).value,i=Object(r["computed"])((function(){return t("optimzerGroup")})).value,u=Object(r["computed"])((function(){return t("resourceGroup")})).value,l=Object(r["computed"])((function(){return t("parallelism")})).value,s=Object(r["computed"])((function(){return t("username")})).value,p=Object(r["computed"])((function(){return t("password")})).value,d=Object(r["computed"])((function(){return t("database",2)})).value,b=Object(r["computed"])((function(){return t("table",2)})).value,m=Object(r["computed"])((function(){return t("name")})).value,f=Object(r["computed"])((function(){return t("container")})).value;return{selectPh:t("selectPlaceholder"),inputPh:t("inputPlaceholder"),selectClPh:t("selectPlaceholder",{selectPh:n}),selectDBPh:t("selectPlaceholder",{selectPh:a}),inputDBPh:t("inputPlaceholder",{inputPh:a}),inputClPh:t("inputPlaceholder",{inputPh:n}),inputTNPh:t("inputPlaceholder",{inputPh:o}),selectOptGroupPh:t("inputPlaceholder",{inputPh:i}),resourceGroupPh:t("inputPlaceholder",{inputPh:u}),parallelismPh:t("inputPlaceholder",{inputPh:l}),usernamePh:t("inputPlaceholder",{inputPh:s}),passwordPh:t("inputPlaceholder",{inputPh:p}),filterDBPh:t("filterPlaceholder",{inputPh:d}),filterTablePh:t("filterPlaceholder",{inputPh:b}),groupNamePh:t("inputPlaceholder",{inputPh:m}),groupContainer:t("selectPlaceholder",{selectPh:f})}}},"86c9":function(e,t,n){"use strict";n("f5ea")},8983:function(e,t,n){},"94c6":function(e,t,n){},a9e3:function(e,t,n){"use strict";var r=n("83ab"),c=n("da84"),a=n("e330"),o=n("94ca"),i=n("6eeb"),u=n("1a2d"),l=n("7156"),s=n("3a9b"),p=n("d9b5"),d=n("c04e"),b=n("d039"),m=n("241c").f,f=n("06cf").f,O=n("9bf2").f,j=n("408a"),v=n("58a8").trim,h="Number",g=c[h],k=g.prototype,y=c.TypeError,x=a("".slice),C=a("".charCodeAt),w=function(e){var t=d(e,"number");return"bigint"==typeof t?t:N(t)},N=function(e){var t,n,r,c,a,o,i,u,l=d(e,"number");if(p(l))throw y("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=v(l),t=C(l,0),43===t||45===t){if(n=C(l,2),88===n||120===n)return NaN}else if(48===t){switch(C(l,1)){case 66:case 98:r=2,c=49;break;case 79:case 111:r=8,c=55;break;default:return+l}for(a=x(l,2),o=a.length,i=0;i<o;i++)if(u=C(a,i),u<48||u>c)return NaN;return parseInt(a,r)}return+l};if(o(h,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var z,G=function(e){var t=arguments.length<1?0:g(w(e)),n=this;return s(k,n)&&b((function(){j(n)}))?l(Object(t),n,G):t},S=r?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;S.length>I;I++)u(g,z=S[I])&&!u(G,z)&&O(G,z,f(g,z));G.prototype=k,k.constructor=G,i(c,h,G)}},b356:function(e,t,n){"use strict";function r(){var e=0,t=1,n=["25","50","100"],r=25;return{total:e,current:t,pageSize:r,pageSizeOptions:n,showQuickJumper:!0,showSizeChanger:!0,hideOnSinglePage:!1}}n.d(t,"a",(function(){return r}))},cbb2:function(e,t,n){},d72c:function(e,t,n){"use strict";n("cbb2")},e723:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return d})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return f}));var r=n("1da1"),c=(n("96cf"),n("99af"),n("b0c0"),n("b32d"));function a(e){var t=e.optimizerGroup,n=e.page,r=e.pageSize;return c["a"].get("ams/v1/optimize/optimizerGroups/".concat(t,"/tables"),{params:{page:n,pageSize:r}})}function o(e){var t=e.optimizerGroup,n=e.page,r=e.pageSize;return c["a"].get("ams/v1/optimize/optimizerGroups/".concat(t,"/optimizers"),{params:{page:n,pageSize:r}})}function i(e){var t=e.optimizerGroup,n=e.parallelism;return c["a"].post("ams/v1/optimize/optimizerGroups/".concat(t,"/optimizers"),{parallelism:n})}function u(e){var t=e.optimizerGroup,n=e.jobId;return c["a"].delete("ams/v1/optimize/optimizerGroups/".concat(t,"/optimizers/").concat(n))}function l(){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].get("ams/v1/optimize/resourceGroups");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}var p=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].get("ams/v1/optimize/containers/get");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(e){return c["a"].post("ams/v1/optimize/resourceGroups",e)},b=function(e){return c["a"].put("ams/v1/optimize/resourceGroups",e)},m=function(e){return c["a"].get("/ams/v1/optimize/resourceGroups/".concat(e.name,"/delete/check"))},f=function(e){return c["a"].delete("/ams/v1/optimize/resourceGroups/".concat(e.name))}},f5ea:function(e,t,n){}}]);